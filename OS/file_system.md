# Общие сведения
Требования к долговременному хранилищу:
* Можно хранить много
* Информация должна пережить прекращение её процесса
* Параллельный доступ нескольких процессов
Сейчас тащат магнитные диски. Можно представить их как последовательность блоков некоторого размера. Две основные операции: **чтение** и **запись**. Здесь также вводится абстракция - **файл**.  

## Типы файлов
* Обычные (пользовательские)
* Каталоги

**Обычный** файл состоит из:
* Заголовка
 * Магическое число __втф__
 * Размеры частей файла
* Текста
* Данных
* Битов перемещения
* Таблицы символов

## Доступ к файлам
* Последовательный (устарел)
* Произвольный (тащит)

## Атрибуты файлов
Сведения о файле, типа размера, времени последнего изменения и тп.

## Операции с файлами
Системные вызовы:  
`Create`, `Delete`, `Open`, `Close`, `Read`, `Write`

## Каталоги

# Реализация файловой системы
## Структура ФС
Сектор `0` на диске - главная загрузочная область (**MBR**). В его конце находится **таблица разделов** диска, где хранятся начальные и конечные адреса разделов. Один из разделов помечается активным. В нём есть загрузочный блок, программа в котором загружает ОС. Примерная структура:  
![](https://pp.vk.me/c639223/v639223501/e8f/m9eErquzm9s.jpg)

## Реализация файлов
* Непрерывное размещение. Файлы идут один за одним. Со временем диск фрагментируется.
* Добавление в конце блока ссылки на следующий. Нет фрагментации, но медленно и затратно
* Заведение в оперативной памяти таблицы, содержащей связи между блоками.
* I-узлы. Та же таблица,только хранится в оперативной памяти только для открытых файлов.

## Реализация каталогов
